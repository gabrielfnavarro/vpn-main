function Gdpr(e){this.config=e}Gdpr.prototype={constructor:Gdpr,userAgreementType:!1,popup:!1,baseDomain:!1,agreedFromFirstScreen:!1,reportObject:{agreement_type:!1,agreement_version:!1,agreement_time:!1,agreement_timezone:!1},IS_GDPR_ENABLED:!0,GDPR_VERSION:"1.05252018",URL_GEO_API_SERVICE:"https://www.hsselite.com/ipinfo",URL_HSS_LOG_SERVICE:"https://hsselite.com/gdpr/agreement/cookies",GDPR_ZONE:{AT:"Austria",BE:"Belgium",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FI:"Finland",FR:"France",DE:"Germany",GR:"Greece",HU:"Hungary",IE:"Ireland",IT:"Italy",LV:"Latvia",LT:"Lithuania",LU:"Luxembourg",MT:"Malta",NL:"Netherlands",PL:"Poland",PT:"Portugal",RO:"Romania",SK:"Slovakia",SI:"Slovenia",ES:"Spain",SE:"Sweden"},COOKIE:{KEYS:{GDPR_VERSION:"_GDPR_user_agreement_version",AGREEMENT_TYPE:"_GDPR_user_agreement"},VALUES:{AGREEMENT_TYPE_FULL:"full",AGREEMENT_TYPE_NECESSARY:"necessary",AGREEMENT_TYPE_ANALYTICS:"analytics",AGREEMENT_TYPE_REJECTED:"rejected",AGREEMENT_TYPE_NOT_REQUIRED:"notRequireAgreement"}}},Gdpr.prototype.init=function(){if(this.IS_GDPR_ENABLED){if(this.checkBlackList())return!1;location.hostname.indexOf("localhost")>=0&&(this.baseDomain="localhost");var e=this.getCookie(this.COOKIE.KEYS.GDPR_VERSION);this.getUserAgr(e),this.reviewUserAgr(e)}else this.userAgreementType=this.COOKIE.KEYS.AGREEMENT_TYPE_NOT_REQUIRED,this.loadJs()},Gdpr.prototype.getUserAgr=function(e){e==this.GDPR_VERSION?(this.userAgreementType=this.getCookie(this.COOKIE.KEYS.AGREEMENT_TYPE),this.userAgreementType!==this.COOKIE.VALUES.AGREEMENT_TYPE_FULL&&this.userAgreementType!==this.COOKIE.VALUES.AGREEMENT_TYPE_NECESSARY||"localhost"!=this.baseDomain&&(this.getCookie("hprchs_vstr_hsh")||(this.userAgreementType=!1))):this.userAgreementType=!1},Gdpr.prototype.reviewUserAgr=function(e){if(this.userAgreementType===this.COOKIE.VALUES.AGREEMENT_TYPE_REJECTED)return!1;this.userAgreementType===this.COOKIE.VALUES.AGREEMENT_TYPE_FULL||this.userAgreementType===this.COOKIE.VALUES.AGREEMENT_TYPE_NECESSARY||this.userAgreementType===this.COOKIE.VALUES.AGREEMENT_TYPE_ANALYTICS||this.userAgreementType===this.COOKIE.KEYS.AGREEMENT_TYPE_NOT_REQUIRED?this.loadJs():(e&&this.removeAllCookies(),this.getUsersLocation())},Gdpr.prototype.checkBlackList=function(){var e=this.config.ignoreList;if(e){var t=!1,r=window.location.pathname;e.forEach((function(e){0===r.indexOf(e)&&(t=!0)}))}return t},Gdpr.prototype.getUsersLocation=function(){var e=this.getCookie("af_country");if(e)return this.callbackUsersLocation({country_code:e}),!1;"localhost"===this.baseDomain?this.callbackUsersLocation({country_code:"US"}):this.runGAPI()},Gdpr.prototype.callbackUsersLocation=function(e){var t;if((t=e.country_code in this.GDPR_ZONE?"requireAgreement":this.COOKIE.VALUES.AGREEMENT_TYPE_NOT_REQUIRED)===this.COOKIE.VALUES.AGREEMENT_TYPE_NOT_REQUIRED)this.userAgreementType=t,this.loadJs(),this.setCookie(this.COOKIE.KEYS.AGREEMENT_TYPE,t);else if("requireAgreement"===t){var r=this;setTimeout((function(){r.uiShowPopup()}),300)}},Gdpr.prototype.loadJs=function(){var e={},t=this,r=this.userAgreementType===this.COOKIE.VALUES.AGREEMENT_TYPE_FULL||this.userAgreementType===this.COOKIE.VALUES.AGREEMENT_TYPE_NOT_REQUIRED;this.config.scripts.forEach((function(o){(r||o.agrType===t.userAgreementType)&&"sentry"===o.name&&(t.loadJsSentry(o.id),e[o.name]=1)})),this.config.scripts.forEach((function(o){(r||o.agrType===t.userAgreementType)&&"gtm"===o.name&&(t.loadJsGtm(o.id),e[o.name]=1)})),this.config.scripts.forEach((function(o){(r||o.agrType===t.userAgreementType)&&(o.name in e||o.url&&"undefined"!==o.url&&""!==o.url&&(t.loadJsScript(o.url),e[o.name]=1))}))},Gdpr.prototype.loadJsScript=function(e){var t=document.createElement("script");t.setAttribute("crossorigin","anonymous"),t.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(t)},Gdpr.prototype.loadJsSentry=function(e){var t=document.createElement("script");t.setAttribute("crossorigin","anonymous"),t.setAttribute("src","https://cdn.ravenjs.com/3.17.0/raven.min.js"),t.setAttribute("onload","Raven.config('"+e+"').install();"),document.getElementsByTagName("head")[0].appendChild(t)},Gdpr.prototype.loadJsGtm=function(e){!function(e,t,r,o,p){e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var n=t.getElementsByTagName(r)[0],i=t.createElement(r);i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+p,n.parentNode.insertBefore(i,n)}(window,document,"script","dataLayer","GTM-"+e)},Gdpr.prototype.uiShowPopup=function(){var e=this;this.getHtml(),document.body.appendChild(this.popup),document.getElementById("gdpr_popup_btn_show_more").addEventListener("click",this.uiShowSecondSlide),document.getElementsByClassName("gdpr_popup_btn_fully_agree")[0].addEventListener("click",(function(){e.agreedFromFirstScreen=!0,e.userEventAgreed()}));for(var t=document.getElementsByClassName("gdpr_popup_btn_agree"),r=0;r<t.length;r++)t[r].addEventListener("click",(function(){e.userEventAgreed()}));var o=document.getElementsByClassName("gdpr_popup_btn_show_privacy");for(r=0;r<=t.length;r++)o[r].addEventListener("click",(function(){e.userEventShowTerms()}));var p=document.getElementsByClassName("gdpr_popup_btn_back");for(r=0;r<p.length;r++)p[r].addEventListener("click",this.userEventBack);document.getElementById("gdpr_popup_necessary_tab").addEventListener("click",this.userEventShowNecessaryTab),document.getElementById("gdpr_popup_analytics_tab").addEventListener("click",this.userEventShowAnalyticsTab)},Gdpr.prototype.getHtml=function(){var e=document.createElement("style");e.innerHTML="#AF_GDPR { background: rgba(0, 0, 0, 0.3); position: fixed; top: 0; left: 0; right: 0; bottom: 0; text-align: center; z-index: 99999; } #AF_GDPR #gdpr_popup_screen_1 { color: #4F555F; background: #fff; max-width: 550px; padding: 30px; display: inline-block; vertical-align: middle; text-align: left; margin: 20px; border-radius: 6px; line-height: 24px; } #AF_GDPR .af_gdpr_h1 { padding: 0; margin: 0; color: #090A19; font-size: 20px; } #AF_GDPR .af_gdpr_h2 { text-align: center; padding: 18px 0; margin: 0; color: #090A19; font-size: 20px; border-bottom: solid 2px #f2f2f2; } #AF_GDPR .af_gdpr_h3 { padding: 0; margin: 0; color: #090A19; font-weight: 500; } #AF_GDPR p { padding: 24px 0 0 0; margin: 0; } #AF_GDPR .gdpr_popup_btn_show_privacy { text-decoration: underline; cursor: pointer; } #AF_GDPR .gdpr_popup_btn_show_privacy:hover { text-decoration: none; } #AF_GDPR .af_gdpr_h1_link, #AF_GDPR .gdpr_popup_btn_back { color: #2FA6F8; cursor: pointer; line-height: 40px; text-decoration: underline; } #AF_GDPR .af_gdpr_h1_link:hover, #AF_GDPR .gdpr_popup_btn_back:hover { text-decoration: none; } #AF_GDPR .gdpr_popup_btn_fully_agree, .gdpr_popup_btn_agree { background: #2FA6F8; border-radius: 6px; color: #fff; line-height: 40px; cursor: pointer; display: inline-block; padding: 0 17px; float: right; } #AF_GDPR .gdpr_popup_btn_fully_agree:hover, .gdpr_popup_btn_agree:hover { background: #329be5; } #AF_GDPR #gdpr_popup_screen_2 { color: #4F555F; background: #fff; width: 100%; max-width: 750px; display: inline-block; vertical-align: middle; text-align: left; margin: 20px; border-radius: 6px; line-height: 24px; display: none; } #AF_GDPR .gdpr_popup_screen_2_body { background: #f7f7f7; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px; position: relative; } #AF_GDPR .gdpr_popup_screen_2_tab { background: #fff; float: right; border-bottom-right-radius: 6px; line-height: 24px; max-width: 500px; box-sizing: border-box; padding: 30px; } #AF_GDPR .gdpr_popup_screen_2_tab_text { height: 360px; overflow: auto; } #AF_GDPR .gdpr_popup_btn_reject_all { text-decoration: underline; cursor: pointer; } #AF_GDPR .gdpr_popup_btn_reject_all:hover { text-decoration: none; } #AF_GDPR .gdpr_popup_tab_menu { position: absolute; top: 0; left: 0; } #AF_GDPR .gdpr_popup_tab_menu ul { padding: 0; margin: 0; } #AF_GDPR .gdpr_popup_tab_menu li { font-size: 16px; width: 250px; box-sizing: border-box; cursor: pointer; list-style: none; padding: 28px; margin: 0; border-bottom: solid 2px #f2f2f2; color: #090A19; position: relative; font-weight: 500; } #AF_GDPR .gdpr_popup_tab_menu input { width: 20px; height: 20px; position: absolute; top: 50%; right: 25px; transform: translateY(-50%); } #AF_GDPR .v-alignment-fix { height: 100%; width: 0; display: inline-block; vertical-align: middle; } @media (max-width: 850px) { #AF_GDPR #gdpr_popup_screen_2 { width: auto; max-width: 500px; } #AF_GDPR .gdpr_popup_tab_menu { position: relative; top: 0; left: 0; } #AF_GDPR .gdpr_popup_tab_menu li { width: 100%; padding: 16px 28px; } #AF_GDPR .gdpr_popup_screen_2_tab_text { height: 250px; } #AF_GDPR .v-alignment-fix { display: none; } #AF_GDPR .gdpr_popup_screen_2_tab { border-bottom-left-radius: 6px; } #AF_GDPR .af_gdpr_h3 { display: none; } }",document.getElementsByTagName("head")[0].appendChild(e);var t=document.createElement("div");t.id="AF_GDPR",t.innerHTML='<div id="gdpr_popup_screen_1"><p class="af_gdpr_h1">Privacy reminder</p><p>We serve first and third party cookies on this website to improve your experience, understand how you use it, and how we can improve it. Visit our <span class="gdpr_popup_btn_show_privacy">privacy policy</span> for more information.</p><p>Please click ‘I agree’ to consent to our use of cookies.</p><p><span id="gdpr_popup_btn_show_more" class="af_gdpr_h1_link">Show more</span> <span class="gdpr_popup_btn_fully_agree" id="i_agree_first_screen">I agree</span></p></div><div id="gdpr_popup_screen_2"><p class="af_gdpr_h2">Privacy settings</p><div class="gdpr_popup_screen_2_body"><div class="gdpr_popup_tab_menu"><ul><li id="gdpr_popup_necessary_tab">Site Optimizations <input type="checkbox" id="gdpr_popup_checkbox_optimizations" checked="checked"></li><li id="gdpr_popup_analytics_tab" style="background: #fff;">Analytics <input type="checkbox" id="gdpr_popup_checkbox_analytics"></li></ul></div><div id="gdpr_popup_screen_2_tab_necessary" class="gdpr_popup_screen_2_tab" style="display:none"><div class="gdpr_popup_screen_2_tab_text"><p class="af_gdpr_h3">Site Optimizations</p><p>Our website uses cookies to improve your user experience, understand how you use it and how we can improve it. For more information please review our <span class="gdpr_popup_btn_show_privacy">privacy policy</span>.</p><p>Please click ‘I agree’ to consent to our use of cookies.</p></div><p><span class="gdpr_popup_btn_back" id="show_less_site_optimization">Show less</span> <span class="gdpr_popup_btn_agree" id="i_agree_first_screen_two_tab_site_option">I agree</span></p></div><div id="gdpr_popup_screen_2_tab_analytics" class="gdpr_popup_screen_2_tab"><div class="gdpr_popup_screen_2_tab_text"><p class="af_gdpr_h3">Analytics</p><p>By clicking on the analytics box, you consent to our use of trusted third party cookies to improve your user experience. For more information please review our <span class="gdpr_popup_btn_show_privacy">privacy policy</span>.</p><p>Trusted Partners:<br>Crazy Egg, Mixpanel, Google Analytics, Google Tag Manager, Sentry.io</p><p>Please click ‘I agree’ to consent to our use of cookies.</p></div><p><span class="gdpr_popup_btn_back" id="show_less_analytics">Show less</span> <span class="gdpr_popup_btn_agree" id="i_agree_first_screen_two_tab_analytics">I agree</span></p></div><div style="clear: both"></div></div></div><div class="v-alignment-fix"></div>;',this.popup=t},Gdpr.prototype.uiShowSecondSlide=function(){document.getElementById("gdpr_popup_screen_1").style.display="none",document.getElementById("gdpr_popup_screen_2").style.display="inline-block"},Gdpr.prototype.uiClosePopup=function(){this.popup.style.display="none"},Gdpr.prototype.userEventShowTerms=function(){var e=this.config.termsUrl;e&&window.open(e,"_blank").focus()},Gdpr.prototype.userEventBack=function(){document.getElementById("gdpr_popup_screen_2").style.display="none",document.getElementById("gdpr_popup_screen_1").style.display="inline-block"},Gdpr.prototype.userEventAgreed=function(){var e=document.getElementById("gdpr_popup_checkbox_optimizations"),t=document.getElementById("gdpr_popup_checkbox_analytics");if(e.checked&&t.checked?this.userAgreementType=this.COOKIE.VALUES.AGREEMENT_TYPE_FULL:!e.checked&&t.checked?this.userAgreementType=this.COOKIE.VALUES.AGREEMENT_TYPE_ANALYTICS:e.checked&&!t.checked?this.userAgreementType=this.COOKIE.VALUES.AGREEMENT_TYPE_NECESSARY:this.userAgreementType=this.COOKIE.VALUES.AGREEMENT_TYPE_REJECTED,this.agreedFromFirstScreen&&(this.userAgreementType=this.COOKIE.VALUES.AGREEMENT_TYPE_FULL),this.userAgreementType===this.COOKIE.VALUES.AGREEMENT_TYPE_REJECTED)return this.userEventReject(),!1;var r=(new Date).getTime(),o=(new Date).toString().match(/([A-Z]+[\+-][0-9]+)/)[1];this.reportObject.agreement_type=this.userAgreementType,this.reportObject.agreement_version=this.GDPR_VERSION,this.reportObject.agreement_time=r,this.reportObject.agreement_timezone=o,this.setCookie(this.COOKIE.KEYS.AGREEMENT_TYPE,this.userAgreementType,365),this.setCookie(this.COOKIE.KEYS.GDPR_VERSION,this.GDPR_VERSION,365),this.setCookie("_GDPR_user_agreement_time",r,365),this.setCookie("_GDPR_user_agreement_timezone",o,365),this.uiClosePopup(),this.loadJs(),this.sendAgreement()},Gdpr.prototype.userEventReject=function(){this.setCookie(this.COOKIE.KEYS.AGREEMENT_TYPE,this.COOKIE.VALUES.AGREEMENT_TYPE_REJECTED),this.setCookie(this.COOKIE.KEYS.GDPR_VERSION,this.GDPR_VERSION),this.uiClosePopup()},Gdpr.prototype.userEventShowNecessaryTab=function(){document.getElementById("gdpr_popup_necessary_tab").style.background="#fff",document.getElementById("gdpr_popup_analytics_tab").style.background="none",document.getElementById("gdpr_popup_screen_2_tab_necessary").style.display="block",document.getElementById("gdpr_popup_screen_2_tab_analytics").style.display="none"},Gdpr.prototype.userEventShowAnalyticsTab=function(){document.getElementById("gdpr_popup_necessary_tab").style.background="none",document.getElementById("gdpr_popup_analytics_tab").style.background="#fff",document.getElementById("gdpr_popup_screen_2_tab_necessary").style.display="none",document.getElementById("gdpr_popup_screen_2_tab_analytics").style.display="block"},Gdpr.prototype.setCookie=function(e,t,r,o){if(!this.baseDomain){var p=location.hostname.split("."),n=p.length;this.baseDomain="; domain=."+p[n-2]+"."+p[n-1]}var i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3);var s="; expires="+i.toUTCString(),a=o?"; path="+o:"; path=/";document.cookie=e+"="+t+s+this.baseDomain+a},Gdpr.prototype.getCookie=function(e){for(var t=e+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var p=r[o];" "==p.charAt(0);)p=p.substring(1);if(0==p.indexOf(t))return p.substring(t.length,p.length)}return!1},Gdpr.prototype.sendAgreement=function(){if("localhost"!==this.baseDomain){var e=new XMLHttpRequest;e.open("POST",this.URL_HSS_LOG_SERVICE,!0),e.send(JSON.stringify(this.reportObject))}},Gdpr.prototype.runGAPI=function(){var e=new XMLHttpRequest,t=this;e.open("GET",this.URL_GEO_API_SERVICE,!0),e.onreadystatechange=function(){if(e.readyState===XMLHttpRequest.DONE&&200===e.status){var r=JSON.parse(e.responseText);t.callbackUsersLocation(r)}},e.send()},Gdpr.prototype.removeAllCookies=function(){var e=this;document.cookie.split(";").forEach((function(t){var r=t.replace(/^ +/,"").replace(/=.*/,"");e.setCookie(r,"")}))};