function AntiblockTest(){this.isEnabled=!1,this.cloudReportingLink=config.cloudReportingLink,this.baseReportingLink=config.baseReportingLink,this.reportLink=this.baseReportingLink,config.antiblocking&&(this.testDomainName=config.antiblocking.testDomainName,this.testDomainNames=config.antiblocking.testDomainNames,this.originalDomainName=config.antiblocking.originalDomainName,this.destinationDomainName=config.antiblocking.destinationDomainName,this.accountDomainName=config.antiblocking.accountDomainName,this.mainDomain=config.mainDomain,this.isEnabled=!0)}function ToolSet(t){this.fullOsName=t,this.os="",this.init()}function SwitchBtnUpdater(t,e){this.eventTracker=t,this.os=e}function GetStartedBtnUpdater(t){this.os=t}function DownloadBtnUpdater(t,e,i){this.links=config.buttons.urls,this.eventTracker=t,this.cookieHandler=i,this.os=e}function EliteBtnUpdater(t){this.eventTracker=t}function AFCookie(){var t=location.hostname.split("."),e=t.length;this.baseDomain="."+t[e-2]+"."+t[e-1],this.secure="secure;",this.baseDomain.match(/localhost/)&&(this.baseDomain=t[e-1],this.secure=""),this.baseDomain.match(/afdevops\.com/)&&(this.secure=""),this.baseDomain.match(/cloudfront/)&&(this.baseDomain="."+t[e-3]+"."+t[e-2]+"."+t[e-1])}function CrossdomainController(t,e){this.isEnabled=!0,this.baseDomains=config.crossDomains,this.baseDomains.length||(this.isEnabled=!1),this.restrirectedClasses=["gpr-get-hss-switch-btn","js-get-hss-home-page","gpr__download-app-btn","gpr__get-app-btn"],this.currentBaseDomain=e,this.baseDomainRegex=new RegExp("^https://(.*?\\.?)([a-zA-Z0-9]+\\.[a-zA-Z0-9]{1,5})/"),this.visitorHashParam="vh="+t.hash}function AFRequestGetParams(t){if(this.params={},!t){if(!window.location.search)return;t=window.location.search}var e=t.substr(1).split("&");e&&e.length&&this.parseParams(e)}function AFIrParams(){this.clickid="",this.source="",this.isFromCookie=!1}function AFIrInitializer(t,e){this.requestGetParams=t,this.cookieHandler=e}function AFUserAgent(t,e){this.cookieHandler=e,this.navigator=t,this.os="",this.osVersion="",this.browser="",this.browserFullVersion="",this.browserMajorVersion="",this.userAgent=t.userAgent,this.parse(),window.addEventListener("scroll",this.onScroll.bind(this))}function AFUtms(t){this.prefix=t,this.source="",this.medium="",this.campaign="",this.term="",this.content="",this.isFromCookie=!1}function AFgclid(t){this.cookieHandler=t,this.cookieName="_afgclid",this.cookieNameTS="_afgclid_ts",this.gclid=""}function ReferralProgram(t){this.cookieHandler=t,this.cookieName="_af-ref_user_id",this.id=""}function AFUtmInitializer(t,e){this.requestGetParams=t,this.cookieHandler=e,this.fields=["medium","source","campaign","term","content","keyword"],this.serializedFieldNames={src:"source",mdm:"medium",cmpg:"campaign",trm:"term",cntnt:"content",keyw:"keyword"}}function SeoAttribution(t){this.searchEngineList=["google","bing","yahoo","baidu","yandex","duckduckgo","ask","aol"],this.eventTracker=t}function AFVisitorHash(t,e){this.hash=t,this.isNew=e}function AFVisitorHashInitializer(t,e){this.requestGetParams=t,this.cookieHandler=e,this.cookieName="hprchs_vstr_hsh",this.getParamName="vh"}function AFHasOffersInitializer(t,e){this.requestGetParams=t,this.cookieHandler=e,this.cookie=null,this.cookieName="_hocaf",this.cookieLifetime=23,this.params=["hotid","hoaid","hoan","hooid","hoas","hoaci"],this.values=[],this.paramCookieTS="hocts",this.reportLanding=!1}function gaTrack(t){this.eventTracker=t}function reportTracking(t,e,i,o){AFHSSTracker.isInitialized()&&AFHSSTracker.trackToGa.send(t,e,i,o)}function PagePerformance(){this.value={TTI:null,FLT:null,FCP:null,NCT:null}}var config={baseDownloadLink:"https://www.betternet.co/",crossDomains:[".betternet.co"],baseReportingLink:"https://d2p1qyxxogka01.cloudfront.net/gpr?data=",cloudReportingLink:"https://d2p1qyxxogka01.cloudfront.net/gpr?data=",buttons:{urls:{default:"https://control.kochava.com/v1/cpi/click?version=&campaign_id=kobetternet-windows-0xvqb82z5431ed7d40d2f&network_id=6184&site_id=1&device_id=device_id",windows:"download/NoxtyVPN-v18.16.0-x64.exe",winphone:"",ios:"https://control.kochava.com/v1/cpi/click?campaign_id=kobetternet-ios-nwe9832c77c7f5a783a&network_id=5798&ko_exchange=true",android:"https://control.kochava.com/v1/cpi/click?campaign_id=kobetternet-android-1pb9upaaed8dbd93bfbe&network_id=5798&ko_exchange=true",mac:"https://control.kochava.com/v1/cpi/click?traffic_source=organic&campaign_id=kobetternet-macos-ho60wxsec3ef4b9ce262&network_id=6184&site_id=1&device_id=device_id",chrome:"https://chrome.google.com/webstore/detail/unlimited-free-vpn-better/gjknjjomckknofjidppipffbpoekiipm",firefox:"https://addons.mozilla.org/en-us/firefox/addon/unlimited-free-vpn-betternet"}}};AntiblockTest.prototype.init=function(){if(this.isEnabled){var t=this.getTestBaseDomain(),e=t;if(e&&(e="order"+e),-1!==window.location.href.indexOf(this.testDomainName)&&(e=this.destinationDomainName),!e)return-1!==window.location.href.indexOf(this.destinationDomainName)&&(this.reportLink=this.cloudReportingLink),void(-1!==window.location.href.indexOf(this.accountDomainName)&&(this.reportLink=this.cloudReportingLink));this.reportLink=this.baseReportingLink.replace(this.mainDomain,t)}if(!1!==window.shouldBeReplacedCurrentDomain)for(var i=document.querySelectorAll(".gpr__get-app-btn"),o=0;o<i.length;o++){var n=i[o];-1!==n.href.indexOf(this.originalDomainName)&&(n.href=n.href.replace(this.originalDomainName,e))}},AntiblockTest.prototype.getReportLink=function(){try{AFHSSTrackerPageConfig&&AFHSSTrackerPageConfig.cloudFrontReporting&&(this.reportLink=this.cloudReportingLink)}catch(t){}return this.reportLink},AntiblockTest.prototype.getTestBaseDomain=function(){for(var t=this.testDomainNames.length,e=0;e<t;e++)if(-1!==window.location.hostname.indexOf(this.testDomainNames[e]))return this.testDomainNames[e];return""},ToolSet.prototype.init=function(){var t={iOS:"ios","Mac OS X":"mac",Android:"android",Windows:"windows","Windows Phone":"winphone",Linux:"linux"};this.fullOsName in t?this.os=t[this.fullOsName]:this.os="default"},ToolSet.prototype.getCurrentOs=function(){return this.os},SwitchBtnUpdater.prototype.init=function(){this.initSwitchBtns()},SwitchBtnUpdater.prototype.initSwitchBtns=function(){for(var t=document.querySelectorAll(".gpr-get-hss-switch-btn"),e=0;e<t.length;e++){var i=t[e];if("windows"==this.os&&config.specHomepageLogic)if(i.classList.contains("js-get-hss-home-page"))i.classList.add("gpr__download-app-btn");else{i.classList.add("gpr__get-app-btn");var o=i.href,n=o.indexOf("?");i.href=config.specHomepageLogicUrl+(n>0?o.substring(n):"")}else i.classList.add("gpr__download-app-btn")}},GetStartedBtnUpdater.prototype.init=function(){var t=document.getElementsByClassName("gpr__get-started-btn");if(t&&"windows"===this.os)for(var e=0,i=t.length;e<i;e++)t[e].classList.add("gpr__download-app-btn"),t[e].classList.remove("gpr__get-app-btn"),t[e].classList.remove("ga_track_it")},DownloadBtnUpdater.prototype.init=function(){var t=document.querySelectorAll(".gpr__download-app-btn");if(t.length)for(var e=0;e<t.length;e++)this.updateDownloadBtn(t[e])},DownloadBtnUpdater.prototype.updateDownloadBtn=function(t){var e="default";"windows"==(e=t.classList.contains("gpr__download-app-btn__microsoft")?"microsoft":t.classList.contains("gpr__download-app-btn__mac")?"mac":t.classList.contains("gpr__download-app-btn__ios")?"ios":t.classList.contains("gpr__download-app-btn__android")?"android":t.classList.contains("gpr__download-app-btn__windows")?"windows":t.classList.contains("gpr__download-app-btn__chrome")?"chrome":t.classList.contains("gpr__download-app-btn__linuxDeb")?"linuxDeb":t.classList.contains("gpr__download-app-btn__linuxRpm")?"linuxRpm":t.classList.contains("gpr__download-app-btn__linuxGlobal")?"linuxGlobal":this.os)&&(t.classList.contains("gpr__download-app-btn__windows-paid")?(e="windowsPaid","B"==this.cookieHandler.get("AF896")&&(e="windowsPaidB")):config.microsoftStoreTest&&(t.classList.contains("gpr__download-app-btn__no-for-store")||(e=this.microsoftStoreTest(e))),t.classList.contains("gpr__download-app-btn__free-vpn")&&(e="windowsFreeVpn")),"mac"==e&&t.classList.contains("gpr__download-app-btn__mac-dmg")&&(e="macDmg"),t.href=this.getDownloadUrl(e),t.href=this.autoLoginFeature(t),this.setOnClickHandler(t,e),0===e.indexOf("windows")&&AFHSSTracker.hasOffersTracker.values.hotid||t.classList.add("gpr__download-app-btn__show")},DownloadBtnUpdater.prototype.autoLoginFeature=function(t){var e=t.getAttribute("data-al-token"),i=t.href.indexOf("?")>0?"&":"?";return e?t.href+i+"al_token="+e:t.href},DownloadBtnUpdater.prototype.microsoftStoreTestUserStatus=null,DownloadBtnUpdater.prototype.microsoftStoreTest=function(t){if(/Windows NT 10/.test(window.navigator.userAgent))if(null===this.microsoftStoreTestUserStatus&&(this.microsoftStoreTestUserStatus=this.cookieHandler.get("af642")),this.microsoftStoreTestUserStatus)"TEST"==this.microsoftStoreTestUserStatus&&(t="microsoft");else{var e=Math.random();this.microsoftStoreTestUserStatus=e<=1?"TEST":e<.5?"CONTROL":"OUT",this.cookieHandler.set("af642",this.microsoftStoreTestUserStatus),"TEST"==this.microsoftStoreTestUserStatus&&(t="microsoft"),"OUT"!=this.microsoftStoreTestUserStatus&&(this.eventTracker.sendEvent("AF642_win_store_testing",{action:"link_update",action_name:this.microsoftStoreTestUserStatus}),dataLayer.push({event:"gaTriggerEvent",gaEventCategory:"A/B [af-642]",gaEventAction:this.microsoftStoreTestUserStatus,gaEventLabel:"",gaEventValue:"",gprEventLabel:"button_click"}))}return t},DownloadBtnUpdater.prototype.getHasOfferUrl=function(t,e){var i=this.links.ho[e]||!1;if(i)for(var o=[{name:"hotid",alias:"click_id"},{name:"hoaid",alias:"affiliate_id"},{name:"hoan",alias:"affiliate_name"},{name:"hooid",alias:"offer_id"},{name:"hoas",alias:"aff_sub"},{name:"hoaci",alias:"aff_click_id"}],n=0,r=o.length;n<r;n++)t[o[n].name]&&(i+="&"+o[n].alias+"="+t[o[n].name]);return i},DownloadBtnUpdater.prototype.getDownloadUrl=function(t){var e=!1;if("hssDownloadLinks"in window){var i=window.hssDownloadLinks;t in i&&(e=i[t])}var o=AFHSSTracker.hasOffersTracker.values;if(o.hotid&&(e=this.getHasOfferUrl(o,t)),!e&&"object"==typeof(e=this.links[t])){var n=[];for(var r in e)n.push([r,e[r]]);n.sort((function(t,e){return t[1]-e[1]}));var s=this.cookieHandler.get("GPR-R");for(var a in s||(s=Math.round(100*Math.random())),this.cookieHandler.set("GPR-R",s),n)if(s<=parseInt(n[a][1])){e=n[a][0];break}}return"chrome"==t||(-1==e.indexOf("?")?e+="?":e+="&","linux"!==t&&"linuxGlobal"!==t&&(e+=this.getDownloadTrackingParams(e),e+="&aftr_source="+encodeURIComponent(window.location.pathname))),e},DownloadBtnUpdater.prototype.getDownloadTrackingParams=function(t){var e=this.eventTracker,i={vh:e.visitorHash.hash};document.referrer&&(i.referrer=document.referrer),e.irParams.source&&(i.source=e.irParams.source),e.irParams.clickid&&(i.clickid=e.irParams.clickid),e.gclid.gclid&&(i.gclid=AFHSSTracker.gclid.gclid),e.refProg.id&&(i.ref_user_id=e.refProg.id);var o=[e.defaultUtms,e.effectiveUtms,e.afUtms];for(var n in o){var r=o[n].toJSONObject();for(var s in r)r[s]&&(i[s]=r[s])}AFHSSTracker.hasOffersTracker.getCookieValue("hotid")&&(i.ho={hotid:AFHSSTracker.hasOffersTracker.getCookieValue("hotid"),hoaid:AFHSSTracker.hasOffersTracker.getCookieValue("hoaid"),hoan:AFHSSTracker.hasOffersTracker.getCookieValue("hoan"),hooid:AFHSSTracker.hasOffersTracker.getCookieValue("hooid"),hoas:AFHSSTracker.hasOffersTracker.getCookieValue("hoas"),hoaci:AFHSSTracker.hasOffersTracker.getCookieValue("hoaci"),hocts:AFHSSTracker.hasOffersTracker.getCookieValue("hocts")});var a="aftr";return-1!=t.indexOf("adjust.com")&&(a="label"),a+"="+encodeURIComponent(JSON.stringify(i))},DownloadBtnUpdater.prototype.setOnClickHandler=function(t,e){var i=this,o=function(t){i.onClick(t,e)};t.addEventListener?t.addEventListener("click",o):t.attachEvent("onclick",o)},DownloadBtnUpdater.prototype.onClick=function(t,e){var i,o="windows"==e?"Downloading":"Redirecting",n={android:"Google play",ios:"App store",mac:"Mac app store",winphone:"Microsoft store",microsoft:"Microsoft store",windows:"Download .exe",windowsPaid:"Download paid.exe",windowsPaidB:"Download paid.exe",chrome:"Chrome web store",default:"/vpn page",linux:"Linux"},r={action:o,action_name:i=e in n?n[e]:"/vpn page"};this.eventTracker.sendEvent("button_click",r),dataLayer.push({event:"gaTriggerEvent",gaEventCategory:"Download btn",gaEventAction:o,gaEventLabel:i,gaEventValue:1,gprEventLabel:"button_click"})},EliteBtnUpdater.prototype.init=function(){this.initEliteUrls()},EliteBtnUpdater.prototype.initEliteUrls=function(){var t=document.querySelectorAll(".gpr__get-app-btn");if(t.length)for(var e=0;e<t.length;e++){var i=t[e];i.href+=this.getTrackingParams(i.href),this.setOnClickHandler(i)}},EliteBtnUpdater.prototype.setOnClickHandler=function(t){var e=this,i=function(t){e.onClickHandler(t)};t.addEventListener?t.addEventListener("click",i):t.attachEvent("onclick",i)},EliteBtnUpdater.prototype.onClickHandler=function(t){this.eventTracker.sendEvent("button_click",{action:"upgrade button",action_name:"redirect to order.hotspotshield.com"}),dataLayer.push({event:"gaTriggerEvent",gaEventCategory:"upgrade button",gaEventAction:"click",gaEventLabel:"",gaEventValue:1,gprEventLabel:"button_click"})},EliteBtnUpdater.prototype.getTrackingParams=function(t){var e=this.eventTracker,i=[];e.irParams.source&&i.push("source="+encodeURIComponent(e.irParams.source)),e.irParams.clickid&&i.push("clickid="+encodeURIComponent(e.irParams.clickid));var o=[];for(var n in-1==t.indexOf("utm_source")&&o.push(e.defaultUtms),-1==t.indexOf("effect_source")&&o.push(e.effectiveUtms),-1==t.indexOf("af_source")&&o.push(e.afUtms),function(t){var e={};return t.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,i,o){e[i]=o})),e}(t).tvh||this.eventTracker.visitorHash.hash&&i.push("tvh="+this.eventTracker.visitorHash.hash),o){var r=o[n].toJSONObject();for(var s in r)r[s]&&i.push(s+"="+encodeURIComponent(r[s]))}try{AFHSSTracker.gclid.gclid&&i.push("gclid="+encodeURIComponent(AFHSSTracker.gclid.gclid))}catch(t){}var a=i.join("&");return-1==t.indexOf("?")?a="?"+a:a&&(a="&"+a),a},AFCookie.prototype.set=function(t,e,i){void 0===i&&(i=30);var o=new Date;o.setTime(o.getTime()+86400*i*1e3);var n="expires="+o.toUTCString();document.cookie=t+"="+e+";"+n+"; domain="+this.baseDomain+"; "+this.secure+" path=/"},AFCookie.prototype.get=function(t){for(var e=t+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var n=i[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""},CrossdomainController.prototype.init=function(t){this.defaultUtms=t.defaultUtms,this.effectiveUtms=t.effectiveUtms,this.afUtms=t.afUtms,this.irParams=t.irParams;for(var e=this.findUrls(),i=0;i<e.length;i++){var o=e[i];this.isCrossdomainUrl(o)&&this.setCrossdomainUrl(o)}},CrossdomainController.prototype.findUrls=function(){return document.getElementsByTagName("a")},CrossdomainController.prototype.isCrossdomainUrl=function(t){var e=t.href;if(0!==e.indexOf("https"))return!1;var i=this.extractBaseDomain(e);if(!i)return!1;if(i===this.currentBaseDomain)return!1;for(var o in this.restrirectedClasses)if(-1!==t.className.indexOf(this.restrirectedClasses[o]))return!1;if("indexOf"in this.baseDomains)return this.baseDomains.indexOf(i)>-1;for(var n=0;n<this.baseDomains.length;n++)if(i==this.baseDomains[n])return!0;return!1},CrossdomainController.prototype.extractBaseDomain=function(t){var e=t.match(this.baseDomainRegex);return!!e&&"."+e[2]},CrossdomainController.prototype.setCrossdomainUrl=function(t){var e=this.appendStrToUrl(this.visitorHashParam,t.href);e=this.appendUtmParams(e,this.defaultUtms),e=this.appendUtmParams(e,this.effectiveUtms),e=this.appendUtmParams(e,this.afUtms),e=this.appendIrParams(e,this.irParams),t.href=e},CrossdomainController.prototype.appendUtmParams=function(t,e){if(e.isEmpty())return t;var i=[e.prefix+"source=",e.prefix+"campaign="];for(var o in i){var n=i[o];if(-1!==t.indexOf(n))return t}var r=e.urlencode();return this.appendStrToUrl(r,t)},CrossdomainController.prototype.appendIrParams=function(t,e){if(e.isEmpty())return t;if(new AFRequestGetParams(t).get("click_id"))return t;var i=e.urlencode();return this.appendStrToUrl(i,t)},CrossdomainController.prototype.appendStrToUrl=function(t,e){return t?(-1===e.indexOf("?")?e+="?"+t:e+="&"+t,e):e},AFRequestGetParams.prototype.parseParams=function(t){for(var e in t){var i=t[e].split("="),o=i[0]&&decodeURIComponent(i[0]),n="";try{n=i[1]&&decodeURIComponent(i[1])}catch(t){}this.params[o]=n}},AFRequestGetParams.prototype.get=function(t){return t in this.params&&this.params[t]},AFGPR={version:"1.2.1",defaultResendDelayMs:4500,xhrTimeoutMs:3500,isTimeoutSet:!1,isResubmitTimeoutSet:!1,failedAttemptsCount:0,maxFailAttempts:10,sender:{backendUrl:"",sendToBackend:function(t,e,i,o){var n=!1;try{n=navigator.sendBeacon(this.backendUrl,t)}catch(t){}if(!n){var r=new XMLHttpRequest;return"withCredentials"in r||"undefined"==XDomainRequest?r.onreadystatechange=function(){4==r.readyState&&e&&e.call(i,t,r.status)}:r=new XDomainRequest,r.open("GET",this.backendUrl+encodeURIComponent(t),o),o&&"timeout"in r&&(r.timeout=3500,r.ontimeout=function(){}),r.send(),r}}},init:function(t){this.sender.backendUrl=t},sendEvent:function(t,e,i){void 0===i&&(i=!0);var o="";try{e.pagePrefix?o="__"+e.pagePrefix+"_":AFHSSTrackerPageConfig&&AFHSSTrackerPageConfig.pagePrefix&&(o="__"+AFHSSTrackerPageConfig.pagePrefix+"_")}catch(t){}var n=new Date;e.gpr_version=this.version;var r=JSON.stringify({event:window.location.hostname+o+"_"+t,ts:n.getTime(),payload:e});this.sender.sendToBackend(r,this.onBackendResponseReceived,this,i)},onBackendResponseReceived:function(t,e){if(!e.toString().match(/^2[0-9]{2}$/)&&!this.isResubmitTimeoutSet){this.isResubmitTimeoutSet=!0;var i=this;setTimeout((function(){i.isResubmitTimeoutSet=!1,i.sender.sendToBackend(t,i.onBackendResponseReceived,i)}),this.defaultResendDelayMs)}}},ErrorLogger={logError:function(t){if("undefined"!=typeof Raven)try{throw new Error(t)}catch(t){Raven.captureException(t)}},captureException:function(t){"undefined"!=typeof Raven&&Raven.captureException(t)}},AFHSSTracker={version:"0.1.1",visitorHash:!1,hasOffersTracker:!1,userAgent:!1,cookieHandler:!1,requestGetParams:!1,irParams:!1,defaultUtmPrefix:"utm_",effectiveUtmPrefix:"effect_",afUtmPrefix:"af_",defaultUtmCookie:"__tr_df_utm_gpr",effectiveUtmCookie:"__tr_ef_utm_gpr",afUtmCookie:"__tr_af_utm_gpr",defaultUtms:!1,effectiveUtms:!1,afUtms:!1,refProg:!1,irCookieName:"__tr_ir_gpr",isInited:!1,baseDomain:!1,downloadBtnUpdater:!1,eliteBtnUpdater:!1,crossdomainController:!1,closeEventReported:!1,changeLinks:function(){this.downloadBtnUpdater=new DownloadBtnUpdater(this,this.toolSet.getCurrentOs(),this.cookieHandler),this.downloadBtnUpdater.init(),this.crossDomainController=new CrossdomainController(this.visitorHash,this.baseDomain),this.crossDomainController.isEnabled&&this.crossDomainController.init({defaultUtms:this.defaultUtms,effectiveUtms:this.effectiveUtms,afUtms:this.afUtms,irParams:this.irParams})},init:function(){this.host=window.location.hostname,this.initBaseDomain(),this.cookieHandler=new AFCookie,this.userStatus=this.getUserStatus(this.cookieHandler.get("user_status")),this.requestGetParams=new AFRequestGetParams,this.visitorHash=this.initVisitorHash(),this.userAgent=new AFUserAgent(window.navigator,this.cookieHandler),this.irParams=this.initIRParams(),this.initUTMParams(),this.refProg=new ReferralProgram(this.cookieHandler),this.refProg.init(this.requestGetParams.get("ref_user_id")),this.toolSet=new ToolSet(this.userAgent.getOs()),this.switchBtnUpdater=new SwitchBtnUpdater(this,this.toolSet.getCurrentOs()),this.switchBtnUpdater.init(),this.gclid=new AFgclid(this.cookieHandler),this.gclid.init(this.requestGetParams.get("gclid")),this.initHasOffersTracker(),this.getStartedBtnUpdater=new GetStartedBtnUpdater(this.toolSet.getCurrentOs()),this.getStartedBtnUpdater.init(),this.downloadBtnUpdater=new DownloadBtnUpdater(this,this.toolSet.getCurrentOs(),this.cookieHandler),this.downloadBtnUpdater.init(),this.eliteBtnUpdater=new EliteBtnUpdater(this),this.eliteBtnUpdater.init(),this.trackToGa=new gaTrack(this),this.trackToGa.init(),this.crossDomainController=new CrossdomainController(this.visitorHash,this.baseDomain),this.crossDomainController.isEnabled&&this.crossDomainController.init({defaultUtms:this.defaultUtms,effectiveUtms:this.effectiveUtms,afUtms:this.afUtms,irParams:this.irParams});var t=new AntiblockTest;t.init(),this.initGPR(t.getReportLink()),this.initPageLeaveEvents(),this.sendInitDoneEvent(),this.isInited=!0,this.hasOffersTracker.sendLandingEvent(),this.pagePerformance=new PagePerformance,this.pagePerformance.init(),this.initB2bTestGroupName()},getUserStatus:function(t){var e=!1;return"0"===t?e="free":"1"===t&&(e="premium"),e},initPageLeaveEvents:function(){var t=this,e=function(e){t.reportClose(e.type)};window.addEventListener&&(window.addEventListener("beforeunload",e),window.addEventListener("unload",e),window.addEventListener("pagehide",e))},initB2bTestGroupName:function(){this.b2bTestGroupName="",this.b2bInitCounter=100,this.setB2bTestGroupName()},getB2bTestGroupName:function(){return this.b2bTestGroupName},setB2bTestGroupName:function(){if(this.b2bInitCounter)try{this.b2bTestGroupName=JSON.stringify(btbTestTracking.getAllTests())}catch(t){this.b2bInitCounter--,setTimeout((function(){AFHSSTracker.setB2bTestGroupName()}),100)}},reportClose:function(t){this.closeEventReported||(this.closeEventReported=!0,this.sendEvent("page_leave",{action:t},!1))},isInitialized:function(){return this.isInited},initBaseDomain:function(){var t=location.hostname.split("."),e=t.length;this.baseDomain="."+t[e-2]+"."+t[e-1]},initVisitorHash:function(){var t=new AFVisitorHashInitializer(this.requestGetParams,this.cookieHandler),e=t.initHash();return this.setMainDomainCookie(t,e),e},initHasOffersTracker:function(){return this.hasOffersTracker=new AFHasOffersInitializer(this.requestGetParams,this.cookieHandler),this.hasOffersTracker.initTracker()},initIRParams:function(){return new AFIrInitializer(this.requestGetParams,this.cookieHandler).init(this.irCookieName)},initUTMParams:function(){var t=new AFUtmInitializer(this.requestGetParams,this.cookieHandler);this.defaultUtms=t.init(this.defaultUtmPrefix,this.defaultUtmCookie),this.afUtms=t.init(this.afUtmPrefix,this.afUtmCookie);var e=t.initFromCookies(this.effectiveUtmPrefix,this.effectiveUtmCookie);this.irParams.clickid&&!this.irParams.isFromCookie&&(e.copyFrom(this.defaultUtms),t.saveToCookie(this.effectiveUtmCookie,e)),!e.isEmpty()||this.defaultUtms.isEmpty()||this.defaultUtms.isFromCookie||(e.copyFrom(this.defaultUtms),t.saveToCookie(this.effectiveUtmCookie,e)),this.effectiveUtms=e,new SeoAttribution(this).init(t,this.afUtmCookie)},initGPR:function(t){AFGPR.init(t),this.gpr=AFGPR},sendEvent:function(t,e,i){void 0===i&&(i=!0),e.tracking_version=this.version,e.is_first_visit=this.visitorHash.isNew,e.host=this.host,e.visitor_hash=this.visitorHash.hash,e.uuid=uuidv1(),e.os=this.userAgent.getOs(),e.os_version=this.userAgent.getOsVersion(),e.browser=this.userAgent.getBrowser(),e.browser_full_version=this.userAgent.getBrowserFullVersion(),e.browser_major_version=this.userAgent.getBrowserMajorVersion(),e.source_href=window.location.href,e.user_agent=this.userAgent.userAgent,e.lang=navigator.userLanguage,e.country=this.cookieHandler.get("af_country"),e.af_param=this.cookieHandler.get("af_param"),e.utm_source=this.defaultUtms.source,e.utm_campaign=this.defaultUtms.campaign,e.utm_medium=this.defaultUtms.medium,e.utm_term=this.defaultUtms.term,e.utm_content=this.defaultUtms.content,e.effect_source=this.effectiveUtms.source,e.effect_campaign=this.effectiveUtms.campaign,e.effect_medium=this.effectiveUtms.medium,e.effect_term=this.effectiveUtms.term,e.effect_content=this.effectiveUtms.content,e.af_source=this.afUtms.source,e.af_campaign=this.afUtms.campaign,e.af_medium=this.afUtms.medium,e.af_term=this.afUtms.term,e.af_content=this.afUtms.content,e.ir_source=this.irParams.source,e.ir_clickid=this.irParams.clickid,e.http_referrer=document.referrer,e.gclid=this.gclid.gclid,e.ref_user_id=this.refProg.id,e.hotid=this.hasOffersTracker.getCookieValue("hotid"),e.hoaid=this.hasOffersTracker.getCookieValue("hoaid"),e.hoan=this.hasOffersTracker.getCookieValue("hoan"),e.hooid=this.hasOffersTracker.getCookieValue("hooid"),e.hoas=this.hasOffersTracker.getCookieValue("hoas"),e.hoaci=this.hasOffersTracker.getCookieValue("hoaci"),e.hocts=this.hasOffersTracker.getCookieValue("hocts"),e.viewport_size=this.userAgent.getViewport(),e.document_size=this.userAgent.getDocumentSize(),e.max_scrolled=this.userAgent.yScrolled,e.experiments=this.getB2bTestGroupName(),this.userStatus&&(e.user_status=this.userStatus),this.gpr.sendEvent(t,e,i)},getDownloadBtnUpdater:function(){return this.downloadBtnUpdater},getEliteBtnUpdater:function(){return this.eliteBtnUpdater},sendInitDoneEvent:function(){var t=null;try{t=new Event("onAFHSSTrackerInitDone"),window.dispatchEvent(t)}catch(t){}},setMainDomainCookie:function(t,e){if(!0===config.isEnableAliases&&e.isNew&&-1===window.location.host.indexOf(config.mainDomain)){var i="af_params[0][name]="+t.getCookieName()+"&af_params[0][value]="+e.hash;document.createElement("img").src=config.mainDomainCookieUrl+"?"+i}}},AFIrParams.prototype.isEmpty=function(){return!this.clickid},AFIrParams.prototype.urlencode=function(){return this.clickid?"clickid="+this.clickid+"&source=ir":""},AFIrInitializer.prototype.init=function(t){var e=this.initFromGet();return e.isEmpty()?e=this.initFromCookie(t):(this.saveToCookie(t,e),e)},AFIrInitializer.prototype.initFromGet=function(){var t=this.requestGetParams.get("source")||"",e="";"ir"==t.toLowerCase()&&this.requestGetParams.get("clickid")&&(e=this.requestGetParams.get("clickid"));var i=new AFIrParams;return i.clickid=e,i.source=t,i},AFIrInitializer.prototype.initFromCookie=function(t){var e=new AFIrParams;e.isFromCookie=!0;var i=this.cookieHandler.get(t);if(!i)return e;try{var o=JSON.parse(i);if(!("clickid"in o))return e}catch(t){return ErrorLogger.logError(t.name+":"+t.message),e}var n=new AFIrParams;return n.clickid=o.clickid,n.source=o.source,n.isFromCookie=!0,n},AFIrInitializer.prototype.saveToCookie=function(t,e){var i=JSON.stringify({clickid:e.clickid,source:e.source});this.cookieHandler.set(t,i)},AFUserAgent.prototype.parse=function(){this.initOS(),this.initBrowser()},AFUserAgent.prototype.initOS=function(){var t=this.navigator.appVersion,e=this.navigator.userAgent,i="unknown",o=[{s:"Windows Phone",r:/Windows Phone/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];try{for(var n in o){var r=o[n];if(r.r.test(e)){i=r.s;break}}var s="unknown";switch(/Windows Phone/.test(i)?(s=/Windows Phone (.*)/.exec(i)[1],i="Windows Phone"):/Windows/.test(i)&&(s=/Windows (.*)/.exec(i)[1],i="Windows"),i){case"Mac OS X":s=/Mac OS X (10[\.\_\d]+)/.exec(e)[1];break;case"Android":s=/Android ([\.\_\d]+)/.exec(e)[1];break;case"iOS":s=(s=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))[1]+"."+s[2]+"."+(0|s[3])}}catch(t){this.os="error",this.osVersion="error"}this.os=i,this.osVersion=s,this.setOsCookie(i)},AFUserAgent.prototype.setOsCookie=function(t){var e=0,i={iOS:1,Android:2,Windows:3,"Mac OS X":4};t in i&&(e=i[t]),this.cookieHandler.set("af_pl",e)},AFUserAgent.prototype.initBrowser=function(){var t,e,i,o,n=this.navigator.userAgent,r=this.navigator.appName,s=""+parseFloat(this.navigator.appVersion);-1!=(e=n.indexOf("OPR/"))?(r="Opera",s=n.substring(e+4)):-1!=(e=n.indexOf("Opera"))?(r="Opera",s=n.substring(e+6),-1!=(e=n.indexOf("Version"))&&(s=n.substring(e+8))):-1!=(e=n.indexOf("MSIE"))?(r="Microsoft Internet Explorer",s=n.substring(e+5)):-1!=(e=n.indexOf("Trident"))?(r="Microsoft Internet Explorer",s=(o=navigator.userAgent.match(/rv:(\d+.\d+)/))?o[1]:11):-1!=(e=n.indexOf("Edge"))?(r="Microsoft Edge",s=n.substring(e+5)):-1!=(e=n.indexOf("Edg"))?(r="Microsoft New Edge",s=n.substring(e+4)):-1!=(e=n.indexOf("Chrome"))?(r="Chrome",s=n.substring(e+7)):-1!=(e=n.indexOf("Safari"))?(r="Safari",s=n.substring(e+7),-1!=(e=n.indexOf("Version"))&&(s=n.substring(e+8))):-1!=(e=n.indexOf("Firefox"))?(r="Firefox",s=n.substring(e+8)):(t=n.lastIndexOf(" ")+1)<(e=n.lastIndexOf("/"))&&(r=n.substring(t,e),s=n.substring(e+1),r.toLowerCase()==r.toUpperCase()&&(r=this.navigator.appName)),-1!=(i=s.indexOf(";"))&&(s=s.substring(0,i)),-1!=(i=s.indexOf(" "))&&(s=s.substring(0,i));var a=parseInt(""+s,10);isNaN(a)&&(s=""+parseFloat(this.navigator.appVersion),a=parseInt(this.navigator.appVersion,10)),this.browser=r,this.browserFullVersion=s,this.browserMajorVersion=a,this.setBrowserCookie()},AFUserAgent.prototype.setBrowserCookie=function(){var t={Chrome:1,Firefox:2,Safari:3,Opera:4,"Microsoft Internet Explorer":5,"Microsoft Edge":6,"Microsoft New Edge":6},e=this.browser in t?t[this.browser]:0;this.cookieHandler.set("af_br",e)},AFUserAgent.prototype.getOs=function(){return this.os},AFUserAgent.prototype.getOsVersion=function(){return this.osVersion},AFUserAgent.prototype.getBrowser=function(){return this.browser},AFUserAgent.prototype.getBrowserFullVersion=function(){return this.browserFullVersion},AFUserAgent.prototype.getBrowserMajorVersion=function(){return this.browserMajorVersion},AFUserAgent.prototype.getViewport=function(){var t="none",e="none";try{void 0!==window.innerWidth?(t=window.innerWidth,e=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(t=document.getElementsByTagName("body")[0].clientWidth,e=document.getElementsByTagName("body")[0].clientHeight)}catch(i){t=i.message,e=i.message}return{w:t,h:e}},AFUserAgent.prototype.getDocumentSize=function(){var t=document.body,e=document.documentElement,i="none",o="none";try{i=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),o=Math.max(t.scrollWidth,t.offsetWidth,e.clientWidth,e.scrollWidth,e.offsetWidth)}catch(t){i=t.message,o=t.message}return{w:o,h:i}},AFUserAgent.prototype.yScrolled=0,AFUserAgent.prototype.onScroll=function(){try{var t=this.getDocumentSize(),e=this.getViewport(),i=document.documentElement.scrollTop||document.body.scrollTop;if(t&&e&&i){var o=Math.round(i/(t.h-e.h)*100);o>=this.yScrolled&&(this.yScrolled=o)}}catch(t){this.yScrolled=t.message}},AFUtms.prototype.isEmpty=function(){return!(this.medium||this.source||this.campaign)},AFUtms.prototype.copyFrom=function(t){this.source=t.source,this.medium=t.medium,this.campaign=t.campaign,this.term=t.term,this.content=t.content},AFUtms.prototype.toJSONObject=function(){var t=["medium","source","campaign","term","content","keyword"],e={};for(var i in t)e[this.prefix+t[i]]=this[t[i]];return e},AFUtms.prototype.urlencode=function(){var t=[],e=["source","medium","campaign","terms","content","keyword"];for(var i in e){var o=e[i];this[o]&&t.push(this.prefix+o+"="+this[o])}return t.length>0?t.join("&"):""},AFgclid.prototype.init=function(t){this.gclid=this.cookieHandler.get(this.cookieName),this.gclid||(this.gclid=t,this.gclid&&this.set())},AFgclid.prototype.set=function(){this.cookieHandler.set(this.cookieName,this.gclid),this.cookieHandler.set(this.cookieNameTS,Math.floor(Date.now()/1e3));var t=location.hostname.split("."),e=t.length,i="."+t[e-2]+"."+t[e-1];if(config.mainDomain!=i){var o="af_params[0][name]="+this.cookieName+"&af_params[0][value]="+this.gclid;document.createElement("img").src=config.mainDomainCookieUrl+"?"+o}},ReferralProgram.prototype.init=function(t){this.id=t,this.id||(this.id=this.cookieHandler.get(this.cookieName)),t&&this.cookieHandler.set(this.cookieName,this.id)},AFUtmInitializer.prototype.init=function(t,e){var i=this.initFromGet(t);return i.isEmpty()?this.initFromCookies(t,e):(this.saveToCookie(e,i),i)},AFUtmInitializer.prototype.initFromGet=function(t){var e=new AFUtms(t);for(var i in this.fields){var o=t+this.fields[i];e[this.fields[i]]=this.requestGetParams.get(o)||""}return e},AFUtmInitializer.prototype.initFromCookies=function(t,e){var i=this.cookieHandler.get(e),o=new AFUtms(t);if(o.isFromCookie=!0,!i)return o;try{var n=new AFUtms(t);n.isFromCookie=!0;var r=JSON.parse(i);for(var s in this.serializedFieldNames){var a=this.serializedFieldNames[s],c="";s in r&&(c=r[s]),n[a]=c}return n}catch(t){return ErrorLogger.logError(t.name+":"+t.message),o}},AFUtmInitializer.prototype.saveToCookie=function(t,e){var i={};for(var o in this.serializedFieldNames){var n=this.serializedFieldNames[o];i[o]=e[n]}var r=JSON.stringify(i);this.cookieHandler.set(t,r)},SeoAttribution.prototype.init=function(t,e){var i=this.getRefferSeachSystenName();i&&(this.eventTracker.afUtms.source=i,this.eventTracker.afUtms.medium="serp",this.eventTracker.afUtms.campaign="seo-organic",t.saveToCookie(e,this.eventTracker.afUtms))},SeoAttribution.prototype.getRefferSeachSystenName=function(){for(var t,e=window.document.referrer,i=0,o=this.searchEngineList.length;i<o;i++)if(t=new RegExp(this.searchEngineList[i]),-1!==e.search(t))return this.searchEngineList[i];return!1},function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).uuidv1=t()}((function(){return function t(e,i,o){function n(s,a){if(!i[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[s]={exports:{}};e[s][0].call(d.exports,(function(t){return n(e[s][1][t]||t)}),d,d.exports,t,e,i,o)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,e,i){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=function(t,e){var i=e||0,n=o;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}},{}],2:[function(t,e,i){(function(t){var i,o=t.crypto||t.msCrypto;if(o&&o.getRandomValues){var n=new Uint8Array(16);i=function(){return o.getRandomValues(n),n}}if(!i){var r=new Array(16);i=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,i){var o=t("./lib/rng"),n=t("./lib/bytesToUuid"),r=o(),s=[1|r[0],r[1],r[2],r[3],r[4],r[5]],a=16383&(r[6]<<8|r[7]),c=0,h=0;e.exports=function(t,e,i){var o=e&&i||0,r=e||[],d=void 0!==(t=t||{}).clockseq?t.clockseq:a,l=void 0!==t.msecs?t.msecs:(new Date).getTime(),f=void 0!==t.nsecs?t.nsecs:h+1,u=l-c+(f-h)/1e4;if(u<0&&void 0===t.clockseq&&(d=d+1&16383),(u<0||l>c)&&void 0===t.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=l,h=f,a=d;var m=(1e4*(268435455&(l+=122192928e5))+f)%4294967296;r[o++]=m>>>24&255,r[o++]=m>>>16&255,r[o++]=m>>>8&255,r[o++]=255&m;var p=l/4294967296*1e4&268435455;r[o++]=p>>>8&255,r[o++]=255&p,r[o++]=p>>>24&15|16,r[o++]=p>>>16&255,r[o++]=d>>>8|128,r[o++]=255&d;for(var g=t.node||s,v=0;v<6;++v)r[o+v]=g[v];return e||n(r)}},{"./lib/bytesToUuid":1,"./lib/rng":2}]},{},[3])(3)})),AFVisitorHash.prototype.isEmpty=function(){return""==this.hash},AFVisitorHashInitializer.prototype.initHash=function(){var t=this.initFromGet();return t.isEmpty()?(t=this.initFromCookie()).isEmpty()?(t=this.initNew(),this.saveToCookie(t),t):t:(this.saveToCookie(t),t)},AFVisitorHashInitializer.prototype.initFromCookie=function(){return new AFVisitorHash(this.cookieHandler.get(this.cookieName),!1)},AFVisitorHashInitializer.prototype.initFromGet=function(){return new AFVisitorHash(this.requestGetParams.get(this.getParamName)||"",!1)},AFVisitorHashInitializer.prototype.saveToCookie=function(t){this.cookieHandler.set(this.cookieName,t.hash)},AFVisitorHashInitializer.prototype.initNew=function(){return new AFVisitorHash("ext"+uuidv1(),!0)},AFVisitorHashInitializer.prototype.getCookieName=function(){return this.cookieName},AFHasOffersInitializer.prototype.saveToCookie=function(t){this.cookieHandler.set(this.cookieName,t,this.cookieLifetime),this.cloneCookie(t)},AFHasOffersInitializer.prototype.cloneCookie=function(t){if(!0===config.isEnableAliases&&-1===window.location.host.indexOf(config.mainDomain)){var e="af_params[0][name]="+this.cookieName+"&af_params[0][value]="+t;document.createElement("img").src=config.mainDomainCookieUrl+"?"+e}},AFHasOffersInitializer.prototype.parseCookie=function(){var t=this.cookieHandler.get(this.cookieName);return 0!==t.length&&0!==(t=JSON.parse(decodeURIComponent(t))).length&&t},AFHasOffersInitializer.prototype.getCookieValue=function(t){return null===this.cookie&&(this.cookie=this.parseCookie()),!1===this.cookie?"":void 0!==this.cookie[t]?this.cookie[t]:""},AFHasOffersInitializer.prototype.getHasOfferValues=function(){this.values.hotid=this.getCookieValue("hotid"),this.values.hoaid=this.getCookieValue("hoaid"),this.values.hoan=this.getCookieValue("hoan"),this.values.hooid=this.getCookieValue("hooid"),this.values.hoas=this.getCookieValue("hoas"),this.values.hoaci=this.getCookieValue("hoaci"),this.values.hocts=this.getCookieValue("hocts")},AFHasOffersInitializer.prototype.initTracker=function(){var t={};for(i=0;i<this.params.length;i++){var e=this.requestGetParams.get(this.params[i]);e&&(t[this.params[i]]=encodeURIComponent(e))}return 0===Object.keys(t).length?(this.getHasOfferValues(),!1):void 0!==t.hotid&&void 0!==t.hooid&&(t[this.paramCookieTS]=Math.floor(Date.now()/1e3),this.values=t,this.saveToCookie(JSON.stringify(t)),this.reportLanding=!0,!0)},AFHasOffersInitializer.prototype.sendLandingEvent=function(){this.reportLanding&&AFHSSTracker.sendEvent("hasoffers_landing",{action:"landing"})},gaTrack.prototype.init=function(){window.dataLayer=window.dataLayer||[],document.addEventListener("click",(function(t){for(var e=t.target;e&&e!==this;e=e.parentNode)if(e.matches(".ga_track_it")){AFHSSTracker.trackToGa.onClick(e);break}}),!1)},gaTrack.prototype.onClick=function(t){if(t){var i=this.getReportingOject(t);i&&this.send(i.c?i.c:"",i.a?i.a:"",i.l?i.l:"",i.v?i.v:"",i.gprl?i.gprl:"","",i.n?i.n:"")}if(!config.noRedirectOnClick){var o=t.getAttribute("href");o&&(e.preventDefault(),t.getAttribute("target")?window.open(o,"_blank").focus():t.classList.contains("ga_track_it__no_href_action")||setTimeout((function(){window.location.href=o}),300))}},gaTrack.prototype.getReportingOject=function(t){var e=t.getAttribute("data-tracking-param");if(e){e.indexOf("{'")+1&&(e=e.replace(/'/g,'"'));try{e=JSON.parse(e)}catch(t){Raven.isSetup()&&Raven.captureMessage("Broken GA reporting object: "+encodeURI(e),{level:"error"}),e=!1}}return e||!1},gaTrack.prototype.send=function(t,e,i,o,n,r,s){if(dataLayer.push({event:"gaTriggerEvent",gaEventCategory:t||"",gaEventAction:e||"",gaEventLabel:i||"",gaEventValue:o||"",gprEventLabel:n||"ga_event"}),!r){"object"==typeof s&&(s=Object.keys(s).length?JSON.stringify(s):"");var a=n||"button_click";this.eventTracker.sendEvent(a,{action:e,action_name:i,notes:s||""})}},PagePerformance.prototype.init=function(){if(window.performance){var t=this;window.addEventListener("load",(function(){t.getTimeToInteraction(),t.getFullyLoadedTime(),t.getNetworkConnectionType(),t.getFirstContentfulPaint(),AFHSSTracker.sendEvent("page_performance",{page_performance:t.value},!1)}))}},PagePerformance.prototype.getTimeToInteraction=function(){this.value.TTI=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart},PagePerformance.prototype.getFullyLoadedTime=function(){var t=Date.now();this.value.FLT=t-window.performance.timing.navigationStart},PagePerformance.prototype.getFirstContentfulPaint=function(){for(var t=window.performance.getEntries(),e=null,i=0,o=t.length;i<o;i++)if("first-contentful-paint"===t[i].name){e=t[i].startTime;break}this.value.FCP=Math.round(e)},PagePerformance.prototype.getNetworkConnectionType=function(){var t="None";try{t=navigator.connection.effectiveType}catch(t){}this.value.NCT=t},AFHSSTracker.isInitialized()||window.addEventListener("DOMContentLoaded",(function(){try{AFHSSTracker.init(),config.noShowPageViewOnLoad||AFHSSTracker.sendEvent("page_view",{action:window.location.href})}catch(t){ErrorLogger.logError("Gpr init failure: "+t.message)}}));